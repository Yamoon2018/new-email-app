{"ast":null,"code":"\"use strict\";\n\nfunction withCallback(args, closure, value_mapper) {\n  return new Promise(function (resolve, reject) {\n    if (Array.isArray(args)) {\n      args = args.slice();\n    } else {\n      value_mapper = closure;\n      closure = args;\n      args = null;\n    }\n\n    function cb(err, value) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      if (!value_mapper) {\n        resolve(value);\n        return;\n      }\n\n      try {\n        resolve(value_mapper.apply(undefined, Array.prototype.slice.call(arguments, 1)));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    if (args) {\n      args.push(cb);\n      closure.apply(undefined, args);\n    } else {\n      closure(cb);\n    }\n  });\n}\n\nexports = withCallback;\nexports.default = exports;\nmodule.exports = exports;\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});","map":{"version":3,"sources":["/home/yamin/My_repos/new-email-app/new-email-app/node_modules/with-callback/index.js"],"names":["withCallback","args","closure","value_mapper","Promise","resolve","reject","Array","isArray","slice","cb","err","value","apply","undefined","prototype","call","arguments","e","push","exports","default","module","Object","defineProperty"],"mappings":"AAAA;;AAGA,SAASA,YAAT,CAAsBC,IAAtB,EAA4BC,OAA5B,EAAqCC,YAArC,EAAmD;AACjD,SAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C,QAAIC,KAAK,CAACC,OAAN,CAAcP,IAAd,CAAJ,EAAyB;AACvBA,MAAAA,IAAI,GAAGA,IAAI,CAACQ,KAAL,EAAP;AACD,KAFD,MAGK;AACHN,MAAAA,YAAY,GAAGD,OAAf;AACAA,MAAAA,OAAO,GAAGD,IAAV;AACAA,MAAAA,IAAI,GAAG,IAAP;AACD;;AAED,aAASS,EAAT,CAAYC,GAAZ,EAAiBC,KAAjB,EAAwB;AACtB,UAAID,GAAJ,EAAS;AACPL,QAAAA,MAAM,CAACK,GAAD,CAAN;AACA;AACD;;AAED,UAAI,CAACR,YAAL,EAAmB;AACjBE,QAAAA,OAAO,CAACO,KAAD,CAAP;AACA;AACD;;AAED,UAAI;AACFP,QAAAA,OAAO,CAACF,YAAY,CAACU,KAAb,CAAmBC,SAAnB,EAA8BP,KAAK,CAACQ,SAAN,CAAgBN,KAAhB,CAAsBO,IAAtB,CAA2BC,SAA3B,EAAsC,CAAtC,CAA9B,CAAD,CAAP;AACD,OAFD,CAGA,OAAOC,CAAP,EAAU;AACRZ,QAAAA,MAAM,CAACY,CAAD,CAAN;AACD;AACF;;AAED,QAAIjB,IAAJ,EAAU;AACRA,MAAAA,IAAI,CAACkB,IAAL,CAAUT,EAAV;AACAR,MAAAA,OAAO,CAACW,KAAR,CAAcC,SAAd,EAAyBb,IAAzB;AACD,KAHD,MAIK;AACHC,MAAAA,OAAO,CAACQ,EAAD,CAAP;AACD;AACF,GApCM,CAAP;AAqCD;;AAGDU,OAAO,GAAGpB,YAAV;AACAoB,OAAO,CAACC,OAAR,GAAkBD,OAAlB;AACAE,MAAM,CAACF,OAAP,GAAiBA,OAAjB;AACAG,MAAM,CAACC,cAAP,CAAsBJ,OAAtB,EAA+B,YAA/B,EAA6C;AAAER,EAAAA,KAAK,EAAE;AAAT,CAA7C","sourcesContent":["\"use strict\";\n\n\nfunction withCallback(args, closure, value_mapper) {\n  return new Promise(function(resolve, reject) {\n    if (Array.isArray(args)) {\n      args = args.slice();\n    }\n    else {\n      value_mapper = closure;\n      closure = args;\n      args = null;\n    }\n\n    function cb(err, value) {\n      if (err) {\n        reject(err);\n        return;\n      }\n\n      if (!value_mapper) {\n        resolve(value);\n        return;\n      }\n\n      try {\n        resolve(value_mapper.apply(undefined, Array.prototype.slice.call(arguments, 1)));\n      }\n      catch (e) {\n        reject(e);\n      }\n    }\n\n    if (args) {\n      args.push(cb);\n      closure.apply(undefined, args);\n    }\n    else {\n      closure(cb);\n    }\n  });\n}\n\n\nexports = withCallback;\nexports.default = exports;\nmodule.exports = exports;\nObject.defineProperty(exports, '__esModule', { value: true });\n"]},"metadata":{},"sourceType":"script"}