{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/home/yamin/My_repos/new-email-app/new-email-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/yamin/My_repos/new-email-app/new-email-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ReceiveBuffer = /*#__PURE__*/function () {\n  function ReceiveBuffer() {\n    var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 4096;\n\n    _classCallCheck(this, ReceiveBuffer);\n\n    this._buffer = Buffer.allocUnsafe(size);\n    this._offset = 0;\n    this._originalSize = size;\n  }\n\n  _createClass(ReceiveBuffer, [{\n    key: \"append\",\n    value: function append(data) {\n      if (!Buffer.isBuffer(data)) {\n        throw new Error('Attempted to append a non-buffer instance to ReceiveBuffer.');\n      }\n\n      if (this._offset + data.length >= this._buffer.length) {\n        var tmp = this._buffer;\n        this._buffer = Buffer.allocUnsafe(Math.max(this._buffer.length + this._originalSize, this._buffer.length + data.length));\n        tmp.copy(this._buffer);\n      }\n\n      data.copy(this._buffer, this._offset);\n      return this._offset += data.length;\n    }\n  }, {\n    key: \"peek\",\n    value: function peek(length) {\n      if (length > this._offset) {\n        throw new Error('Attempted to read beyond the bounds of the managed internal data.');\n      }\n\n      return this._buffer.slice(0, length);\n    }\n  }, {\n    key: \"get\",\n    value: function get(length) {\n      if (length > this._offset) {\n        throw new Error('Attempted to read beyond the bounds of the managed internal data.');\n      }\n\n      var value = Buffer.allocUnsafe(length);\n\n      this._buffer.slice(0, length).copy(value);\n\n      this._buffer.copyWithin(0, length, length + this._offset - length);\n\n      this._offset -= length;\n      return value;\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this._offset;\n    }\n  }]);\n\n  return ReceiveBuffer;\n}();\n\nexports.ReceiveBuffer = ReceiveBuffer;","map":{"version":3,"sources":["../../src/common/receivebuffer.ts"],"names":[],"mappings":";;;;;;;;;;IAAM,a;AAKJ,2BAA+B;AAAA,QAAnB,IAAmB,uEAAJ,IAAI;;AAAA;;AAC7B,SAAK,OAAL,GAAe,MAAM,CAAC,WAAP,CAAmB,IAAnB,CAAf;AACA,SAAK,OAAL,GAAe,CAAf;AACA,SAAK,aAAL,GAAqB,IAArB;AACD;;;;2BAMM,I,EAAY;AACjB,UAAI,CAAC,MAAM,CAAC,QAAP,CAAgB,IAAhB,CAAL,EAA4B;AAC1B,cAAM,IAAI,KAAJ,CACJ,6DADI,CAAN;AAGD;;AAED,UAAI,KAAK,OAAL,GAAe,IAAI,CAAC,MAApB,IAA8B,KAAK,OAAL,CAAa,MAA/C,EAAuD;AACrD,YAAM,GAAG,GAAG,KAAK,OAAjB;AACA,aAAK,OAAL,GAAe,MAAM,CAAC,WAAP,CACb,IAAI,CAAC,GAAL,CACE,KAAK,OAAL,CAAa,MAAb,GAAsB,KAAK,aAD7B,EAEE,KAAK,OAAL,CAAa,MAAb,GAAsB,IAAI,CAAC,MAF7B,CADa,CAAf;AAMA,QAAA,GAAG,CAAC,IAAJ,CAAS,KAAK,OAAd;AACD;;AAED,MAAA,IAAI,CAAC,IAAL,CAAU,KAAK,OAAf,EAAwB,KAAK,OAA7B;AACA,aAAQ,KAAK,OAAL,IAAgB,IAAI,CAAC,MAA7B;AACD;;;yBAEI,M,EAAc;AACjB,UAAI,MAAM,GAAG,KAAK,OAAlB,EAA2B;AACzB,cAAM,IAAI,KAAJ,CACJ,mEADI,CAAN;AAGD;;AACD,aAAO,KAAK,OAAL,CAAa,KAAb,CAAmB,CAAnB,EAAsB,MAAtB,CAAP;AACD;;;wBAEG,M,EAAc;AAChB,UAAI,MAAM,GAAG,KAAK,OAAlB,EAA2B;AACzB,cAAM,IAAI,KAAJ,CACJ,mEADI,CAAN;AAGD;;AAED,UAAM,KAAK,GAAG,MAAM,CAAC,WAAP,CAAmB,MAAnB,CAAd;;AACA,WAAK,OAAL,CAAa,KAAb,CAAmB,CAAnB,EAAsB,MAAtB,EAA8B,IAA9B,CAAmC,KAAnC;;AACA,WAAK,OAAL,CAAa,UAAb,CAAwB,CAAxB,EAA2B,MAA3B,EAAmC,MAAM,GAAG,KAAK,OAAd,GAAwB,MAA3D;;AACA,WAAK,OAAL,IAAgB,MAAhB;AAEA,aAAO,KAAP;AACD;;;wBAhDS;AACR,aAAO,KAAK,OAAZ;AACD;;;;;;AAiDM,OAAA,CAAA,aAAA,GAAA,aAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass ReceiveBuffer {\n    constructor(size = 4096) {\n        this._buffer = Buffer.allocUnsafe(size);\n        this._offset = 0;\n        this._originalSize = size;\n    }\n    get length() {\n        return this._offset;\n    }\n    append(data) {\n        if (!Buffer.isBuffer(data)) {\n            throw new Error('Attempted to append a non-buffer instance to ReceiveBuffer.');\n        }\n        if (this._offset + data.length >= this._buffer.length) {\n            const tmp = this._buffer;\n            this._buffer = Buffer.allocUnsafe(Math.max(this._buffer.length + this._originalSize, this._buffer.length + data.length));\n            tmp.copy(this._buffer);\n        }\n        data.copy(this._buffer, this._offset);\n        return (this._offset += data.length);\n    }\n    peek(length) {\n        if (length > this._offset) {\n            throw new Error('Attempted to read beyond the bounds of the managed internal data.');\n        }\n        return this._buffer.slice(0, length);\n    }\n    get(length) {\n        if (length > this._offset) {\n            throw new Error('Attempted to read beyond the bounds of the managed internal data.');\n        }\n        const value = Buffer.allocUnsafe(length);\n        this._buffer.slice(0, length).copy(value);\n        this._buffer.copyWithin(0, length, length + this._offset - length);\n        this._offset -= length;\n        return value;\n    }\n}\nexports.ReceiveBuffer = ReceiveBuffer;\n//# sourceMappingURL=receivebuffer.js.map"]},"metadata":{},"sourceType":"script"}