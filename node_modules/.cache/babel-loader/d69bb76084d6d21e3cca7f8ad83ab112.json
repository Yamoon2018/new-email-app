{"ast":null,"code":"'use strict';\n\nvar url = require('url');\n\nvar https = require('https');\n/**\n * This currently needs to be applied to all Node.js versions\n * in order to determine if the `req` is an HTTP or HTTPS request.\n *\n * There is currently no PR attempting to move this property upstream.\n */\n\n\nvar patchMarker = \"__agent_base_https_request_patched__\";\n\nif (!https.request[patchMarker]) {\n  https.request = function (request) {\n    return function (_options, cb) {\n      var options;\n\n      if (typeof _options === 'string') {\n        options = url.parse(_options);\n      } else {\n        options = Object.assign({}, _options);\n      }\n\n      if (null == options.port) {\n        options.port = 443;\n      }\n\n      options.secureEndpoint = true;\n      return request.call(https, options, cb);\n    };\n  }(https.request);\n\n  https.request[patchMarker] = true;\n}\n/**\n * This is needed for Node.js >= 9.0.0 to make sure `https.get()` uses the\n * patched `https.request()`.\n *\n * Ref: https://github.com/nodejs/node/commit/5118f31\n */\n\n\nhttps.get = function (_url, _options, cb) {\n  var options;\n\n  if (typeof _url === 'string' && _options && typeof _options !== 'function') {\n    options = Object.assign({}, url.parse(_url), _options);\n  } else if (!_options && !cb) {\n    options = _url;\n  } else if (!cb) {\n    options = _url;\n    cb = _options;\n  }\n\n  var req = https.request(options, cb);\n  req.end();\n  return req;\n};","map":{"version":3,"sources":["/home/yamin/My_repos/new-email-app/new-email-app/node_modules/agent-base/patch-core.js"],"names":["url","require","https","patchMarker","request","_options","cb","options","parse","Object","assign","port","secureEndpoint","call","get","_url","req","end"],"mappings":"AAAA;;AACA,IAAMA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAnB;;AACA,IAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;AAEA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAME,WAAW,GAAG,sCAApB;;AACA,IAAI,CAACD,KAAK,CAACE,OAAN,CAAcD,WAAd,CAAL,EAAiC;AAC/BD,EAAAA,KAAK,CAACE,OAAN,GAAiB,UAASA,OAAT,EAAkB;AACjC,WAAO,UAASC,QAAT,EAAmBC,EAAnB,EAAuB;AAC5B,UAAIC,OAAJ;;AACA,UAAI,OAAOF,QAAP,KAAoB,QAAxB,EAAkC;AAChCE,QAAAA,OAAO,GAAGP,GAAG,CAACQ,KAAJ,CAAUH,QAAV,CAAV;AACD,OAFD,MAEO;AACLE,QAAAA,OAAO,GAAGE,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,QAAlB,CAAV;AACD;;AACD,UAAI,QAAQE,OAAO,CAACI,IAApB,EAA0B;AACxBJ,QAAAA,OAAO,CAACI,IAAR,GAAe,GAAf;AACD;;AACDJ,MAAAA,OAAO,CAACK,cAAR,GAAyB,IAAzB;AACA,aAAOR,OAAO,CAACS,IAAR,CAAaX,KAAb,EAAoBK,OAApB,EAA6BD,EAA7B,CAAP;AACD,KAZD;AAaD,GAde,CAcbJ,KAAK,CAACE,OAdO,CAAhB;;AAeAF,EAAAA,KAAK,CAACE,OAAN,CAAcD,WAAd,IAA6B,IAA7B;AACD;AAED;AACA;AACA;AACA;AACA;AACA;;;AACAD,KAAK,CAACY,GAAN,GAAY,UAAUC,IAAV,EAAgBV,QAAhB,EAA0BC,EAA1B,EAA8B;AACtC,MAAIC,OAAJ;;AACA,MAAI,OAAOQ,IAAP,KAAgB,QAAhB,IAA4BV,QAA5B,IAAwC,OAAOA,QAAP,KAAoB,UAAhE,EAA4E;AAC1EE,IAAAA,OAAO,GAAGE,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBV,GAAG,CAACQ,KAAJ,CAAUO,IAAV,CAAlB,EAAmCV,QAAnC,CAAV;AACD,GAFD,MAEO,IAAI,CAACA,QAAD,IAAa,CAACC,EAAlB,EAAsB;AAC3BC,IAAAA,OAAO,GAAGQ,IAAV;AACD,GAFM,MAEA,IAAI,CAACT,EAAL,EAAS;AACdC,IAAAA,OAAO,GAAGQ,IAAV;AACAT,IAAAA,EAAE,GAAGD,QAAL;AACD;;AAEH,MAAMW,GAAG,GAAGd,KAAK,CAACE,OAAN,CAAcG,OAAd,EAAuBD,EAAvB,CAAZ;AACAU,EAAAA,GAAG,CAACC,GAAJ;AACA,SAAOD,GAAP;AACD,CAdD","sourcesContent":["'use strict';\nconst url = require('url');\nconst https = require('https');\n\n/**\n * This currently needs to be applied to all Node.js versions\n * in order to determine if the `req` is an HTTP or HTTPS request.\n *\n * There is currently no PR attempting to move this property upstream.\n */\nconst patchMarker = \"__agent_base_https_request_patched__\";\nif (!https.request[patchMarker]) {\n  https.request = (function(request) {\n    return function(_options, cb) {\n      let options;\n      if (typeof _options === 'string') {\n        options = url.parse(_options);\n      } else {\n        options = Object.assign({}, _options);\n      }\n      if (null == options.port) {\n        options.port = 443;\n      }\n      options.secureEndpoint = true;\n      return request.call(https, options, cb);\n    };\n  })(https.request);\n  https.request[patchMarker] = true;\n}\n\n/**\n * This is needed for Node.js >= 9.0.0 to make sure `https.get()` uses the\n * patched `https.request()`.\n *\n * Ref: https://github.com/nodejs/node/commit/5118f31\n */\nhttps.get = function (_url, _options, cb) {\n    let options;\n    if (typeof _url === 'string' && _options && typeof _options !== 'function') {\n      options = Object.assign({}, url.parse(_url), _options);\n    } else if (!_options && !cb) {\n      options = _url;\n    } else if (!cb) {\n      options = _url;\n      cb = _options;\n    }\n\n  const req = https.request(options, cb);\n  req.end();\n  return req;\n};\n"]},"metadata":{},"sourceType":"script"}