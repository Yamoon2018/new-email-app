{"version":3,"sources":["send_email_smtp.js","App.js","index.js"],"names":["mg","require","mailgun","apiKey","domain","module","exports","req","console","log","receiver_emails","sender_email","date","Date","receiver_email","split","email_status","email_subject","email_body","length","email_output","email_counter_start","receiver_email_list","mailoptions","from","to","subject","text","html","messages","send","error","body","App","state","sender_name","receiver_name","email_attachment","changeSenderName","bind","changeSenderEmail","changeReceiverName","changeReceiverEmail","changeEmailSubject","changeEmailBody","handleSelectChange","onSubmit","event","target","value","this","setState","preventDefault","send_email_db","axios","post","then","res","data","send_email_db_func","className","onChange","placeholder","type","name","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e9e5c527.chunk.js","sourcesContent":["//var nodemail = require('nodemailer');\nconst mailgun = require(\"mailgun-js\");\nconst DOMAIN = 'https://new-email-app.herokuapp.com/';\nconst api_key = '6e3b8f6090c00c22a964a71df0571b60-2af183ba-540063c1';\nconst mg = mailgun({apiKey: api_key, domain: DOMAIN}); \n\nmodule.exports= function send_email_db(req){\n    console.log(\"req==\"+ req);\n    //break;\n    var receiver_emails='';\n    var sender_email='';\n    var date = new Date();\n    if(req){        \n          sender_email = req.sender_email;\n        receiver_emails = req.receiver_email.split(',');\n          \n        var email_status   =  req.email_status;\n        var email_subject = req.email_subject;\n        var email_body = req.email_body;\n        console.log(\"convert==\"+receiver_emails.length);        \n    }\n  \n  \n    const email_output = `\n        \n        <h3>Your emails sent ${email_subject}</h3>\n        <ul>\n            <li> Email ${email_body}</li>\n        </ul>\n    `;\n  \n    // let tranport_email = nodemail.createTransport({\n    //   port: 587,\n    //   address: 'smtp.mailgun.org',    \n    //   host: 'https://new-email-app.herokuapp.com/',\n    //     auth: {\n    //         user: 'postmaster@sandbox9ec8e5daaec146fca37a45479baea5f2.mailgun.org' ,\n    //         pass: '98e50b79f92e630a413bc3d8a7716c02-2af183ba-fa201257',\n    //     }\n    // });\n    \n    var email_counter_start =0;\n    var receiver_email_list =0;\n  \n    email_status === \"all\" ? receiver_email_list=[receiver_emails] : receiver_email_list = receiver_emails;\n       \n    while  (email_counter_start < receiver_email_list.length) {\n    \n      console.log(\"email options==\"+receiver_email_list[email_counter_start]);\n        let mailoptions = {\n            from: sender_email, //\"yamin.barakat@gmail.com\",\n            to: receiver_email_list[email_counter_start],\n            subject: email_subject+'  '+date,\n            text: email_body,\n            html: email_output\n        };\n        \n        mg.messages().send(mailoptions, function (error, body) {\n            console.log(body);\n        });\n    \n        // tranport_email.sendMail(mailoptions, (err, info)=>{\n        //     if(err) {\n        //         return console.log(err);\n        //     }\n        //     console.log('email sent %s', info.messageId );\n        // });\n      \n      email_counter_start +=1;\n    }\n    //send_DB(req, res);\n  }\n\n","import React, { Component } from 'react';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport axios from 'axios';\nimport send_email_db_func from './send_email_smtp';\n\n\nclass App extends Component{\n    constructor(){\n        super()\n        this.state={\n            sender_name: '',\n            sender_email: '',\n            receiver_name: '',\n            receiver_email: '',\n            email_subject: '',\n            email_body: '',\n            email_attachment: '',\n            email_status:''\n        }\n\n        this.changeSenderName = this.changeSenderName.bind(this);\n        this.changeSenderEmail = this.changeSenderEmail.bind(this);\n        this.changeReceiverName = this.changeReceiverName.bind(this);\n        this.changeReceiverEmail = this.changeReceiverEmail.bind(this);\n        this.changeEmailSubject = this.changeEmailSubject.bind(this);\n        this.changeEmailBody = this.changeEmailBody.bind(this);\n        this.handleSelectChange = this.handleSelectChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this) ;\n\n    }\n\n    changeSenderName(event){\n        console.log(event.target.value);\n        this.setState({\n            sender_name: event.target.value\n        }) \n    }\n\n    changeSenderEmail(event){\n        this.setState({\n            sender_email: event.target.value\n        }) \n    }\n\n    changeReceiverName(event){\n        this.setState({\n            receiver_name: event.target.value\n        }) \n    }\n\n    changeReceiverEmail(event){\n        this.setState({\n            receiver_email: event.target.value\n        }) \n    }\n\n    changeEmailSubject(event){\n        this.setState({\n            email_subject: event.target.value\n        }) \n    }\n\n    changeEmailBody(event){\n        this.setState({\n            email_body: event.target.value\n        }) \n    }\n\n    handleSelectChange(event){\n        this.setState({\n            email_status: event.target.value\n        }) \n    }\n\n    onSubmit(event){\n        event.preventDefault();\n//console.log(\"sender_name =\"+this.state.sender_name);\n        const send_email_db={\n            sender_name:    this.state.sender_name,\n            sender_email:   this.state.sender_email,\n            receiver_name:  this.state.receiver_name,\n            receiver_email: this.state.receiver_email,\n            email_subject:  this.state.email_subject,\n            email_body:     this.state.email_body,\n            email_status:   this.state.email_status\n            //email_attachment: '',\n            //email_status:   this.state.email_status\n\n        }\n\n        axios.post('http://localhost:4000/app/save_db', send_email_db)\n        .then(res => console.log(res.data));\n\n        //console.log(\"sender email\"+send_email_db.sender_email);\n        send_email_db_func(send_email_db);\n\n\n    }\n\n    render(){\n        return (\n            <div>\n                <div>\n                    <p><b><h3>Yamin's Email App</h3></b></p>\n                </div>\n                <div className=\"container\">\n                    <div className=\"form-div\">\n                    <form onSubmit={this.onSubmit}>\n          Sender's Name\n          <input value={this.state.sender_name} className=\"form-control form-group\" onChange={this.changeSenderName} placeholder=\"Sender's name...\" type=\"text\" name=\"sender_name\" /> \n          <p></p>\n          Sender's Email\n          <input value={this.state.sender_email} className=\"form-control form-group\" onChange={this.changeSenderEmail} placeholder=\"Sender's email...\" type=\"text\" name=\"sender_email\"  />\n          <p></p>\n          Receiever's Name<input value={this.state.receiver_name} className=\"form-control form-group\"  onChange={this.changeReceiverName} placeholder=\"Receiver's name...\" type=\"text\" name=\"receiver_name\" /> \n          <p></p>\n          Receiever's Email(s)<input value={this.state.receiver_email} className=\"form-control form-group\" onChange={this.changeReceiverEmail} placeholder=\"Receiver's Email..\" type=\"text\" name=\"receiver_email\" />\n          <p></p>\n          Subject <input value={this.state.email_subject} className=\"form-control form-group\" onChange={this.changeEmailSubject} placeholder=\"Subject...\" type=\"text\" name=\"email_subject\" /> \n          <p></p>\n          Message          \n          <textarea value={this.state.email_body} className=\"form-control form-group\" onChange={this.changeEmailBody} name=\"email_body\" />\n          <p></p>\n          Email Status\n          <select onChange={this.handleSelectChange} name=\"select_email_status\" value={this.state.email_status} >          \n          <option value=\"all\">Send one email to all receievers</option>\n          <option value=\"each\">Send one email to each receiever</option>          \n        </select>\n          <p></p>\n          \n          <button type=\"submit\" className=\"btn btn-danger btn-block\" value =\"btn_sendEmail\">Send Email</button>\n          \n          </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  \n    <App />\n  ,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}